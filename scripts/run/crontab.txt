#set path to entrada scripts
PATH=/home/hadoop/entrada-latest/scripts/run/:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin

* * * * * echo "im working: $(date)" > /home/hadoop/tmp/test.txt

#move pcap files from the incoming dir to the processing dir, every 2 minutes.
*/10 * * * * source config.sh && sh run_01_import_pcaps.sh

#process the pcap files to parquet files and import into staging database table, every 5 minutes
5,15,25,35,45,55 * * * * sudo sh -c "PATH=/home/hadoop/entrada-latest/scripts/run/:$PATH && source config.sh && sh run_02_partial_loader_bootstrap.sh"

#move the data from the staging table to the datawarehouse table, ervery night at 4 am
#the parquet data uses UTC time, do not schedule this job before 2 am to avoid partitioning issues.
0 4 * * * source config.sh && sh run_03_staging_to_warehouse.sh

#Update the Maxmind GEO-IP database every 1st Wednessday of the month
0 4 * * * sh run-if-today.sh 1 Wed && sh run_update_geo_ip_db.sh

#Update staging stats
#0 * * * * source config.sh && run_05_update_stats_staging
#above script has not been properly modified yet
